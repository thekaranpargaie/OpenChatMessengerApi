@page "/"
@using ChatUI.Services
@inject AuthService AuthService
@inject NavigationManager Navigation

<PageTitle>OpenChatMessenger</PageTitle>

<div class="auth-container">
    <div class="auth-card" style="max-width: 600px;">
        <div class="auth-header">
            <h2>💬 OpenChatMessenger</h2>
            <p>A modern, real-time chat platform for seamless communication</p>
        </div>

        @if (AuthService.IsAuthenticated)
        {
            <div class="text-center">
                <p style="margin-bottom: 20px;">Welcome back, @AuthService.CurrentUser?.FirstName!</p>
                <a href="/chat" class="btn btn-primary btn-block">Continue to Chat</a>
            </div>
        }
        else
        {
            <div style="display: flex; gap: 12px; margin-top: 30px;">
                <a href="/login" class="btn btn-primary" style="flex: 1; text-align: center; text-decoration: none;">Sign In</a>
                <a href="/register" class="btn btn-primary" style="flex: 1; text-align: center; text-decoration: none; background-color: var(--secondary-color);">Sign Up</a>
            </div>
        }

        <div style="margin-top: 40px; padding-top: 30px; border-top: 1px solid var(--border-color);">
            <h3 style="text-align: center; margin-bottom: 24px; font-size: 18px; color: var(--text-primary);">Features</h3>
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                <div style="text-align: center; padding: 16px;">
                    <div style="font-size: 32px; margin-bottom: 8px;">⚡</div>
                    <h5 style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">Real-Time</h5>
                    <p style="font-size: 12px; color: var(--text-secondary);">Instant messaging with SignalR</p>
                </div>
                <div style="text-align: center; padding: 16px;">
                    <div style="font-size: 32px; margin-bottom: 8px;">🌍</div>
                    <h5 style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">Global Channels</h5>
                    <p style="font-size: 12px; color: var(--text-secondary);">Connect with users worldwide</p>
                </div>
                <div style="text-align: center; padding: 16px;">
                    <div style="font-size: 32px; margin-bottom: 8px;">🔒</div>
                    <h5 style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">Secure</h5>
                    <p style="font-size: 12px; color: var(--text-secondary);">JWT-based authentication</p>
                </div>
                <div style="text-align: center; padding: 16px;">
                    <div style="font-size: 32px; margin-bottom: 8px;">🎨</div>
                    <h5 style="font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px;">Modern UI</h5>
                    <p style="font-size: 12px; color: var(--text-secondary);">Beautiful dark/light themes</p>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    protected override async Task OnInitializedAsync()
    {
        // Check if user is already logged in
        if (await AuthService.CheckAuthStateAsync())
        {
            // User is authenticated, could redirect to chat
            // Navigation.NavigateTo("/chat");
        }
    }
}

